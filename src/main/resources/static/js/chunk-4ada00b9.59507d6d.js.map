{"version":3,"sources":["webpack:///./src/views/shows/UserShows.vue?16fa","webpack:///./src/views/shows/UserShows.vue?7bfb","webpack:///src/views/shows/UserShows.vue","webpack:///./src/views/shows/UserShows.vue?c99c","webpack:///./src/views/shows/UserShows.vue?50ab"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","loadingUserShows","_e","_l","show","key","id","_v","_s","name","ticket","staticStyle","attrs","code","ticketsByShow","length","errorOnLoad","staticRenderFns","data","tickets","component"],"mappings":"yIAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACN,EAAIO,GAAG,GAAKP,EAAIQ,iBAA4pBR,EAAIS,KAA9oB,CAACT,EAAIU,GAAIV,EAAiB,eAAE,SAASW,GAAM,OAAOP,EAAG,MAAM,CAACQ,IAAID,EAAKE,GAAGP,YAAY,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGJ,EAAKK,SAAShB,EAAIU,GAAIC,EAAgB,aAAE,SAASM,GAAQ,OAAOb,EAAG,MAAM,CAACQ,IAAIK,EAAOJ,GAAGP,YAAY,6BAA6BY,YAAY,CAAC,mBAAmB,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIc,GAAG,aAAad,EAAIe,GAAGE,EAAOJ,OAAOT,EAAG,UAAU,CAACe,MAAM,CAAC,KAAOF,EAAOG,SAAS,OAAM,MAAmC,IAA7BpB,EAAIqB,cAAcC,QAAiBtB,EAAIuB,YAAuGvB,EAAe,YAAEI,EAAG,MAAM,CAACA,EAAG,OAAO,CAACJ,EAAIc,GAAG,iDAAiDd,EAAIS,KAA5LL,EAAG,MAAM,CAACA,EAAG,OAAO,CAACJ,EAAIc,GAAG,mEAA+K,GAAQ,IACt0BU,EAAkB,CAAC,WAAa,IAAIxB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIc,GAAG,wB,oEC4BxJ,GACEW,KADF,WAEI,MAAO,CACLC,QAAS,GACTL,cAAe,GACfb,kBAAkB,EAClBe,aAAa,IAGjB,QATF,WASA,yKACA,kCADA,SAIA,sBAJA,SAKA,gDALA,OAKA,EALA,OAMA,iBAEA,KACA,+BACA,qDACA,OACA,aACA,iBACA,cAIA,+BACA,qDACA,2EAEA,kBAtBA,qDAwBA,2BACA,iBAzBA,yBA2BA,sBA3BA,iFCtCkW,I,wBCQ9VI,EAAY,eACd,EACA5B,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAG,E","file":"js/chunk-4ada00b9.59507d6d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserShows.vue?vue&type=style&index=0&id=25adb54c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"internal-container\"},[_vm._m(0),(!_vm.loadingUserShows)?[_vm._l((_vm.ticketsByShow),function(show){return _c('div',{key:show.id,staticClass:\"row\"},[_c('h3',[_vm._v(_vm._s(show.name))]),_vm._l((show.userTickets),function(ticket){return _c('div',{key:ticket.id,staticClass:\"col-md-12 mb-5 ticket-card\",staticStyle:{\"background-color\":\"white !important\"}},[_c('h5',[_vm._v(\"Ticket N° \"+_vm._s(ticket.id))]),_c('qr-code',{attrs:{\"text\":ticket.code}})],1)})],2)}),(_vm.ticketsByShow.length === 0 && !_vm.errorOnLoad)?_c('div',[_c('span',[_vm._v(\"Usted no ha adquirido ningún ticket hasta el momento.\")])]):(_vm.errorOnLoad)?_c('div',[_c('span',[_vm._v(\"Ha ocurrido un error al cargar la página.\")])]):_vm._e()]:_vm._e(),void 0],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('h1',[_vm._v(\" Mis entradas \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"internal-container\">\n    <div class=\"row\">\n        <h1>\n        Mis entradas\n        </h1>\n    </div>\n    <template v-if=\"!loadingUserShows\">\n      <div v-for=\"show in ticketsByShow\" :key=\"show.id\" class=\"row\">\n          <h3>{{show.name}}</h3>\n          <div v-for=\"ticket in show.userTickets\" class=\"col-md-12 mb-5 ticket-card\" style=\"background-color: white !important\" :key=\"ticket.id\">\n              <h5>Ticket N° {{ ticket.id }}</h5>\n              <qr-code :text=\"ticket.code\"></qr-code>\n          </div>\n      </div>\n      <div v-if=\"ticketsByShow.length === 0 && !errorOnLoad\">\n        <span>Usted no ha adquirido ningún ticket hasta el momento.</span>\n      </div>\n      <div v-else-if=\"errorOnLoad\">\n        <span>Ha ocurrido un error al cargar la página.</span>\n      </div>\n    </template>\n    <template>\n\n    </template>\n  </div>\n</template>\n<script>\nimport axios from \"../../helpers/axiosInterceptor\";\nexport default {\n  data() {\n    return {\n      tickets: [],\n      ticketsByShow: [],\n      loadingUserShows: false,\n      errorOnLoad: false,\n    };\n  },\n  async mounted() {\n    const userId = this.$store.getters.currentUser.id;\n\n    try {\n      this.loadingUserShows = true;\n      const response = await axios.get(\"/api/tickets\", { params: { user_id: userId } });\n      this.tickets = response.data;\n\n        const shows = [];\n        this.tickets.forEach((ticket) => {\n          const found = shows.find(s => s.id === ticket.show.id);\n            if (!found) {\n                const newShow = ticket.show;\n                newShow.userTickets = [];\n                shows.push(newShow);\n            }\n        });\n\n        this.tickets.forEach((ticket) => {\n          const found = shows.find(s => s.id === ticket.show.id);\n            found.userTickets.push({...ticket, show: null});\n        });\n        this.ticketsByShow = shows;\n    } catch (error) {\n      console.log(error.response)\n      this.errorOnLoad = true;\n    } finally {\n      this.loadingUserShows = false;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.ticket-card > * {\n    color: black !important;\n    background-color: white !important;\n}\n.ticket-card {\n    padding: 10px;\n    border-radius: 5px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserShows.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserShows.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserShows.vue?vue&type=template&id=25adb54c&scoped=true&\"\nimport script from \"./UserShows.vue?vue&type=script&lang=js&\"\nexport * from \"./UserShows.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserShows.vue?vue&type=style&index=0&id=25adb54c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25adb54c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}