{"version":3,"sources":["webpack:///./src/views/shows/Show.vue?6429","webpack:///src/views/shows/Show.vue","webpack:///./src/views/shows/Show.vue?6d17","webpack:///./src/views/shows/Show.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","loading","_e","staticClass","attrs","_v","_s","show","name","place","directives","rawName","value","expression","domProps","on","$event","target","composing","quantity","buyTickets","mpResponse","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAASF,EAAIM,QAA+nBN,EAAIO,KAA1nBH,EAAG,MAAM,CAACI,YAAY,aAAa,CAACJ,EAAG,MAAM,CAACK,MAAM,CAAC,GAAK,qBAAqBL,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,KAAKC,SAAST,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,KAAKE,UAAUV,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACJ,EAAIU,GAAG,cAAcN,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACF,KAAK,QAAQG,QAAQ,UAAUC,MAAOjB,EAAY,SAAEkB,WAAW,aAAaV,YAAY,eAAeC,MAAM,CAAC,KAAO,UAAUU,SAAS,CAAC,MAASnB,EAAY,UAAGoB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBvB,EAAIwB,SAASH,EAAOC,OAAOL,aAAYb,EAAG,SAAS,CAACI,YAAY,kBAAkBY,GAAG,CAAC,MAAQpB,EAAIyB,aAAa,CAACzB,EAAIU,GAAG,YAAYV,EAAIU,GAAG,IAAIV,EAAIW,GAAGX,EAAI0B,YAAY,QAC1tBC,EAAkB,G,YCetB,GACE,KADF,WAEI,MAAJ,CACM,KAAN,KACM,aAAN,KACM,YAAN,KACM,SAAN,EACM,WAAN,KACM,SAAN,IAGE,SAAF,CACI,YADJ,WAEM,OAAN,kCAGE,QAhBF,WAgBI,IAAJ,OACI,KAAJ,yEACM,OAAN,UAGI,IAAJ,wBACA,2BAAM,GAAN,IAEI,EAAJ,kBACM,EAAN,eACM,EAAN,eAGE,QAAF,CACI,WADJ,WACM,IAAN,OACM,QAAN,yBACM,IAAN,kCACQ,QAAR,oBACQ,SAAR,cACQ,QAAR,eAEM,EAAN,kBACQ,EAAR,iCAEQ,EAAR,kBAEQ,EAAR,sBACU,WAAV,CACY,GAAZ,gBAEU,OAAV,CACY,UAAZ,mBACY,MAAZ,kBChE6V,I,YCOzVC,EAAY,eACd,EACA7B,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d0d3326.7c8fa069.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loading)?_c('div',{staticClass:\"container\"},[_c('div',{attrs:{\"id\":\"button-checkout\"}}),_c('h1',[_vm._v(_vm._s(_vm.show.name))]),_c('h2',[_vm._v(_vm._s(_vm.show.place))]),_c('div',[_c('label',[_vm._v(\"Cantidad\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantity),expression:\"quantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.quantity=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.buyTickets}},[_vm._v(\"Pagar!\")]),_vm._v(\" \"+_vm._s(_vm.mpResponse)+\" \")]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"container\" v-if=\"!loading\">\n        <div id=\"button-checkout\"></div>\n        <h1>{{ show.name }}</h1>\n        <h2>{{ show.place }}</h2>\n        <div>\n            <label>Cantidad</label>\n            <input class=\"form-control\" type=\"number\" v-model=\"quantity\" />    \n        </div>\n        <button class=\"btn btn-primary\" v-on:click=\"buyTickets\">Pagar!</button>\n        {{ mpResponse }}\n    </div>\n</template>\n<script>\nimport axios from \"@/helpers/axiosInterceptor\";\n\nexport default {\n    data() {\n        return {\n            show: null,\n            preferenceId: null,\n            mercadopago: null,\n            quantity: 0,\n            mpResponse: null,\n            loading: true\n        };\n    },\n    computed: {\n        currentUser() {\n            return this.$store.getters.currentUser;\n        }\n    },\n    mounted() {\n        this.mercadopago = new MercadoPago(\"TEST-a9731b02-1568-4d47-acc3-8bc4933fd619\", {\n            locale: \"es-AR\", \n        });\n\n        const showId = this.$route.params.id;\n        const request = axios.get(\"/api/shows\", { id: showId });\n\n        request.then((resp) => {\n            this.show = resp.data[0];\n            this.loading = false;\n        });\n    },\n    methods: {\n        buyTickets() {\n            console.log(this.currentUser.id);\n            const request = axios.post(\"/api/mercadopago\", {\n                user_id: this.currentUser.id,\n                quantity: this.quantity,\n                show_id: this.show.id,\n            });\n            request.then((response) => {\n                this.preferenceId = response.data.preferenceID;\n\n                this.mpResponse = response.data;\n\n                this.mercadopago.checkout({\n                    preference: {\n                        id: this.preferenceId,\n                    },\n                    render: {\n                        container: \"#button-checkout\", // Class name where the payment button will be displayed\n                        label: \"Pagar!\", // Change the payment button text (optional)\n                    },\n                });\n            });\n        },\n    },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=28de9874&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}